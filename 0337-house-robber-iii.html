<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 2.0.10">
<title>337. House Robber III</title>
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700">
<link rel="stylesheet" href="assets/css/asciidoctor.css">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
</head>
<body class="book toc2 toc-left">
<div id="header">
<div id="toc" class="toc2">
<div id="toctitle">Table of Contents</div>
<ul class="sectlevel1">
<li><a href="#_337_house_robber_iii">337. House Robber III</a>
<ul class="sectlevel2">
<li><a href="#_解题分析">解题分析</a></li>
<li><a href="#_思考题">思考题</a></li>
<li><a href="#_参考资料">参考资料</a></li>
</ul>
</li>
</ul>
</div>
</div>
<div id="content">
<div class="sect1">
<h2 id="_337_house_robber_iii"><a class="anchor" href="#_337_house_robber_iii"></a>337. House Robber III</h2>
<div class="sectionbody">
<div class="paragraph">
<p><a href="https://leetcode.com/problems/house-robber-iii/">LeetCode - House Robber III</a></p>
</div>
<div class="paragraph">
<p>The thief has found himself a new place for his thievery again. There is only one entrance to this area, called the "root." Besides the root, each house has one and only one parent house. After a tour, the smart thief realized that "all houses in this place forms a binary tree". It will automatically contact the police if two directly-linked houses were broken into on the same night.</p>
</div>
<div class="paragraph">
<p>Determine the maximum amount of money the thief can rob tonight without alerting the police.</p>
</div>
<div class="listingblock">
<div class="title">Example 1:</div>
<div class="content">
<pre>Input: [3,2,3,null,3,null,1]

     3
    / \
   2   3
    \   \
     3   1

Output: 7
Explanation: Maximum amount of money the thief can rob = 3 + 3 + 1 = 7.</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Example 2:</div>
<div class="content">
<pre>Input: [3,4,5,1,3,null,1]

     3
    / \
   4   5
  / \   \
 1   3   1

Output: 9
Explanation: Maximum amount of money the thief can rob = 4 + 5 = 9.</pre>
</div>
</div>
<div class="sect2">
<h3 id="_解题分析"><a class="anchor" href="#_解题分析"></a>解题分析</h3>
<div class="paragraph">
<p>由于题目给出示例的误导，这里存在一个误区：在不选父节点时，子树选最优解不受任何干扰，也就是说子树的跟节点可选也可以不选。所以，可以将这个问题简化为，分选根节点和不选根节点，两种情况考虑：</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>选父节点，则子树必定不能选根节点；</p>
</li>
<li>
<p>如果不选跟节点，则子树可以在选根节点和不选跟节点中选最优解就好。</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>然后在这上面两种情况中选出最优解。</p>
</div>
</div>
<div class="sect2">
<h3 id="_思考题"><a class="anchor" href="#_思考题"></a>思考题</h3>
<div class="paragraph">
<p>尝试使用动态规划来解决这个问题。</p>
</div>
</div>
<div class="sect2">
<h3 id="_参考资料"><a class="anchor" href="#_参考资料"></a>参考资料</h3>
<div class="olist arabic">
<ol class="arabic">
<li>
<p><a href="https://leetcode-cn.com/problems/house-robber-iii/solution/java-2ms-by-horanol/">java 2ms - 打家劫舍 III - 力扣（LeetCode）</a></p>
</li>
<li>
<p><a href="https://leetcode-cn.com/problems/house-robber-iii/solution/san-chong-fang-fa-jie-jue-shu-xing-dong-tai-gui-hu/">三种方法解决树形动态规划问题-从入门级代码到高效树形动态规划代码实现 - 打家劫舍 III - 力扣（LeetCode）</a></p>
</li>
<li>
<p><a href="https://leetcode-cn.com/problems/house-robber-iii/solution/tong-yong-si-lu-tuan-mie-da-jia-jie-she-wen-ti-b-2/">通用思路团灭打家劫舍问题 - 打家劫舍 III - 力扣（LeetCode）</a></p>
</li>
</ol>
</div>
<div class="paragraph">
<p>The thief has found himself a new place for his thievery again. There is only one entrance to this area, called the "root." Besides the root, each house has one and only one parent house. After a tour, the smart thief realized that "all houses in this place forms a binary tree". It will automatically contact the police if two directly-linked houses were broken into on the same night.</p>
</div>
<div class="paragraph">
<p>Determine the maximum amount of money the thief can rob tonight without alerting the police.</p>
</div>
<div class="paragraph">
<p><strong>Example 1:</strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre><strong>Input:</strong> [3,2,3,null,3,null,1]

     3
    / \
   2   3
    \   \
     3   1

<strong>Output:</strong> 7
<strong>Explanation:</strong> Maximum amount of money the thief can rob = &lt;font color="red" style="font-family: sans-serif, Arial, Verdana, "Trebuchet MS";"&gt;3 + &lt;font color="red" style="font-family: sans-serif, Arial, Verdana, "Trebuchet MS";"&gt;3  + &lt;font color="red" style="font-family: sans-serif, Arial, Verdana, "Trebuchet MS";"&gt;1  = &lt;b style="font-family: sans-serif, Arial, Verdana, "Trebuchet MS";"&gt;7* .</pre>
</div>
</div>
<div class="paragraph">
<p><strong>Example 2:</strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre><strong>Input:</strong> [3,4,5,1,3,null,1]

     3
    / \
   4   5
  / \   \
 1   3   1

<strong>Output:</strong> 9
<strong>Explanation:</strong> Maximum amount of money the thief can rob = 4 + &lt;font color="red"&gt;5 = <strong>9</strong>.</pre>
</div>
</div>
<div id="src-0337" class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-{java_source_attr}" data-lang="{java_source_attr}">package com.diguage.algorithm.leetcode;

import com.diguage.algorithm.util.TreeNode;

import java.util.Objects;

import static com.diguage.algorithm.util.TreeNodeUtils.buildTree;
import static java.util.Arrays.asList;

/**
 * = 337. House Robber III
 *
 * https://leetcode.com/problems/house-robber-iii/[House Robber III - LeetCode]
 *
 * @author D瓜哥, https://www.diguage.com/
 * @since 2020-01-29 16:34
 */
public class _0337_HouseRobberIII {
    /**
     * Runtime: 0 ms, faster than 100.00% of Java online submissions for House Robber III.
     * Memory Usage: 41.3 MB, less than 13.89% of Java online submissions for House Robber III.
     *
     * Copy from: https://leetcode-cn.com/problems/house-robber-iii/solution/java-2ms-by-horanol/[java 2ms - 打家劫舍 III - 力扣（LeetCode）]
     */
    public int rob(TreeNode root) {
        int[] robs = doRob(root);
        return Math.max(robs[0], robs[1]);
    }

    public int[] doRob(TreeNode root) {
        int[] result = new int[2];
        if (Objects.isNull(root)) {
            return result;
        }
        int[] left = doRob(root.left);
        int[] right = doRob(root.right);
        result[0] = Math.max(left[0], left[1]) + Math.max(right[0], right[1]);
        result[1] = left[0] + right[0] + root.val;
        return result;
    }

    public static void main(String[] args) {
        _0337_HouseRobberIII solution = new _0337_HouseRobberIII();
        int r1 = solution.rob(buildTree(asList(3, 2, 3, null, 3, null, 1)));
        System.out.println((r1 == 7) + " : " + r1);

        int r2 = solution.rob(buildTree(asList(3, 4, 5, 1, 3, null, 1)));
        System.out.println((r2 == 9) + " : " + r2);
    }
}</code></pre>
</div>
</div>
</div>
</div>
</div>
</div>
<div id="footer">
<div id="footer-text">
Last updated 2020-02-13 11:39:08 +0800
</div>
</div>
</body>
</html>