<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 2.0.10">
<title>150. Evaluate Reverse Polish Notation</title>
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700">
<link rel="stylesheet" href="assets/css/asciidoctor.css">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
</head>
<body class="book toc2 toc-left">
<div id="header">
<div id="toc" class="toc2">
<div id="toctitle">Table of Contents</div>
<ul class="sectlevel1">
<li><a href="#_150_evaluate_reverse_polish_notation">150. Evaluate Reverse Polish Notation</a></li>
</ul>
</div>
</div>
<div id="content">
<div class="sect1">
<h2 id="_150_evaluate_reverse_polish_notation"><a class="anchor" href="#_150_evaluate_reverse_polish_notation"></a>150. Evaluate Reverse Polish Notation</h2>
<div class="sectionbody">
<div class="paragraph">
<p><a href="https://leetcode.com/problems/evaluate-reverse-polish-notation/">LeetCode - Evaluate Reverse Polish Notation</a></p>
</div>
<div class="paragraph">
<p>其实这只是一个栈操作。</p>
</div>
<div class="paragraph">
<p>Evaluate the value of an arithmetic expression in <a href="http://en.wikipedia.org/wiki/Reverse_Polish_notation">Reverse Polish Notation</a>.</p>
</div>
<div class="paragraph">
<p>Valid operators are <code>+</code>, <code>-</code>, <code>*</code>, <code>/</code>. Each operand may be an integer or another expression.</p>
</div>
<div class="paragraph">
<p><strong>Note:</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p>Division between two integers should truncate toward zero.</p>
</li>
<li>
<p>The given RPN expression is always valid. That means the expression would always evaluate to a result and there won&#8217;t be any divide by zero operation.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong>Example 1:</strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre><strong>Input:</strong> ["2", "1", "+", "3", "<strong>"]
*Output:</strong> 9
<strong>Explanation:</strong> ((2 + 1) * 3) = 9</pre>
</div>
</div>
<div class="paragraph">
<p><strong>Example 2:</strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre><strong>Input:</strong> ["4", "13", "5", "/", "+"]
<strong>Output:</strong> 6
<strong>Explanation:</strong> (4 + (13 / 5)) = 6</pre>
</div>
</div>
<div class="paragraph">
<p><strong>Example 3:</strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre><strong>Input:</strong> ["10", "6", "9", "3", "", "-11", "*", "/", "*", "17", "", "5", "+"]
<strong>Output:</strong> 22
<strong>Explanation:</strong>
  10 * (6 / ((9 + 3) * -11) + 17) + 5
= 10 * (6 / (12 * -11) + 17) + 5
= 10 * (6 / -132 + 17) + 5
= ((10 * 0) + 17) + 5
= (0 + 17) + 5
= 17 + 5
= 22</pre>
</div>
</div>
<div id="src-0150" class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-{java_source_attr}" data-lang="{java_source_attr}">package com.diguage.algorithm.leetcode;

import java.util.*;

/**
 * = 150. Evaluate Reverse Polish Notation
 *
 * https://leetcode.com/problems/evaluate-reverse-polish-notation/[Evaluate Reverse Polish Notation - LeetCode]
 *
 * Evaluate the value of an arithmetic expression in https://en.wikipedia.org/wiki/Reverse_Polish_notation[Reverse Polish notation].
 *
 * Valid operators are `+`, `-`, `*`, `/`. Each operand may be an integer or another expression.
 *
 * *Note:*
 *
 * * Division between two integers should truncate toward zero.
 * * The given RPN expression is always valid. That means the expression would always evaluate to a result and there won't be any divide by zero operation.
 *
 * .Example 1:
 * [source]
 * ----
 * Input: ["2", "1", "+", "3", "*"]
 * Output: 9
 * Explanation: ((2 + 1) * 3) = 9
 * ----
 *
 * .Example 2:
 * [source]
 * ----
 * Input: ["4", "13", "5", "/", "+"]
 * Output: 6
 * Explanation: (4 + (13 / 5)) = 6
 * ----
 *
 * .Example 3:
 * [source]
 * ----
 * Input: ["10", "6", "9", "3", "+", "-11", "*", "/", "*", "17", "+", "5", "+"]
 * Output: 22
 * Explanation:
 *   ((10 * (6 / ((9 + 3) * -11))) + 17) + 5
 * = ((10 * (6 / (12 * -11))) + 17) + 5
 * = ((10 * (6 / -132)) + 17) + 5
 * = ((10 * 0) + 17) + 5
 * = (0 + 17) + 5
 * = 17 + 5
 * = 22
 * ----
 *
 * @author D瓜哥, https://www.diguage.com/
 * @since 2020-01-26 16:01
 */
public class _0150_EvaluateReversePolishNotation {
    /**
     * Runtime: 4 ms, faster than 97.32% of Java online submissions for Evaluate Reverse Polish Notation.
     *
     * Memory Usage: 41.1 MB, less than 6.00% of Java online submissions for Evaluate Reverse Polish Notation.
     */
    public int evalRPN(String[] tokens) {
        if (Objects.isNull(tokens) || tokens.length == 0) {
            return 0;
        }
        Deque&lt;Integer&gt; stack = new LinkedList&lt;&gt;();
        Set&lt;String&gt; operators = new HashSet&lt;&gt;(Arrays.asList("+", "-", "*", "/"));

        for (String token : tokens) {
            if (operators.contains(token)) {
                Integer v1 = stack.pop();
                Integer v2 = stack.pop();
                if ("+".equals(token)) {
                    stack.push(v1 + v2);
                    continue;
                }
                if ("-".equals(token)) {
                    stack.push(v2 - v1);
                    continue;
                }
                if ("*".equals(token)) {
                    stack.push(v1 * v2);
                    continue;
                }
                if ("/".equals(token)) {
                    stack.push(v2 / v1);
                    continue;
                }
            } else {
                stack.push(Integer.parseInt(token));
            }
        }

        return stack.pop();
    }

    public static void main(String[] args) {
        _0150_EvaluateReversePolishNotation solution = new _0150_EvaluateReversePolishNotation();
        String[] t1 = {"2", "1", "+", "3", "*"};
        int r1 = solution.evalRPN(t1);
        System.out.println((r1 == 9) + " : " + r1);

        String[] t2 = {"4", "13", "5", "/", "+"};
        int r2 = solution.evalRPN(t2);
        System.out.println((r2 == 6) + " : " + r2);

        String[] t3 = {"10", "6", "9", "3", "+", "-11", "*", "/", "*", "17", "+", "5", "+"};
        int r3 = solution.evalRPN(t3);
        System.out.println((r3 == 22) + " : " + r3);
    }
}</code></pre>
</div>
</div>
</div>
</div>
</div>
<div id="footer">
<div id="footer-text">
Last updated 2020-02-13 11:39:08 +0800
</div>
</div>
</body>
</html>